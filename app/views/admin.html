<div class="container">
  <h1 translate>ADMIN</h1>

  <div ng-if="unscored" class="row" ng-controller="TournamentCtrl">
    <h2 >{{unscored.title[l10n()]}}</h2>
    <h3 >{{unscored.start_date | date}}</h3>
    <span>{{unscored.no_days}}</span>
    <a ng-href="#/tournaments/{{unscored.slug}}/score">score</a>
  </div>

  <div class="row" ng-controller="NewsCtrl">
    <h2 translate>LATEST_ARTICLES</h2>
    <div ng-repeat="(id, article) in articles | orderByPriority | orderBy: 'publish_date':true |filter:{category : 'news'} | limitTo:3">
        <a ng-href="#/news/{{article.slug}}">{{article.title[l10n()]}}</a> <a ng-if="article.draft" ng-click="publish()" class="btn">publish</a> <a ng-href="#/news/{{article.slug}}/edit" class="btn"> edit</a>
    </div>
    <div><a ng-href="#/news/new">+</a></div>
  </div>

  <div class="row" ng-controller="TournamentCtrl">
    <h2 translate>LATEST_TOURNAMENTS</h2>
    <div ng-repeat="(id, tournament) in tournaments | orderByPriority | orderBy: 'start_date':true | limitTo:2" class="col-md-4">
        {{tournament.no_days}}
        <a ng-href="#/tournaments/{{tournament.slug}}">{{tournament.title[l10n()]}}</a><a ng-href="#/news/{{tournament.slug}}/edit" class="btn">edit</a>
    </div>
      <div class="col-md-4">
        <a ng-href="#/tournaments/new">+</a>    
    </div>
  </div>

  <div class="row" ng-controller="ProsCtrl">
    <h2 translate>LATEST_PROS</h2>
    <div ng-repeat="(id, pro) in pros | orderByPriority | orderBy: 'updated_at':true | limitTo:3" class="col-md-3">
        <a ng-href="#/pros/{{pro.username}}">
        <img ng-src="{{pro.profile_picture}}">
        {{pro.name[l10n()]}}</a><a ng-href="#/pros/{{pro.username}}/edit" class="btn">edit</a>
    </div>
    <div class="col-md-3">
      <a ng-href="#/pros/new">+</a>    
    </div>
  </div>

  <div class="row" ng-controller="AdminCtrl">
    <h2 translate>PUBLISH_NEW</h2>
    <div ng-repeat="(url, title) in resources" class="col-md-3">
        <a ng-href="#/{{url}}/new">{{title}}</a>
    </div>
  </div>

</div>